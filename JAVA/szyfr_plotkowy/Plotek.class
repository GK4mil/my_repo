public class Plotek {

	String szyfruj(String wiad, int k) {
		char x[] = wiad.toCharArray();
		char[][] tab = new char[k][x.length];
		int wx = -1;
		boolean znak = true;

		for (int wy = 0; wy < x.length; wy++) {
			if ((wx < k - 1) && znak == true) {
				wx++;
				if (wx == k - 1)
					znak = false;
			} else if ((wx > 0) && (znak == false)) {
				wx--;
				if (wx == 0)
					znak = true;
			}
			tab[wx][wy] = x[wy];
		}

		for (int i = 0; i < tab.length; i++) {
			for (int j = 0; j < tab[i].length; j++)
				System.out.print(tab[i][j]);// podglad kodowania
			System.out.println();
		}
		int c = 0;

		for (int i = 0; i < tab.length; i++) {
			for (int j = 0; j < tab[i].length; j++) {
				if ((int) tab[i][j] != 0) { // zapis do tablicy jednowymiarowej
					x[c] = tab[i][j];
					c++;
				}

			}

		}

		// for(int i=0; i<x.length;i++)
		// System.out.print(x[i]);
		//
		// System.out.println(); //podglad tablicy jednowymiarowej
		//

		return new String(x);
	}

	String deszyfruj(String wiad, int k) {

		char x[] = wiad.toCharArray();
		char[][] tab = new char[k][x.length];
		int wx = -1;
		boolean znak = true;

		for (int wy = 0; wy < x.length; wy++) {
			if ((wx < k - 1) && znak == true) {
				wx++;
				if (wx == k - 1)
					znak = false;
			} else if ((wx > 0) && (znak == false)) {
				wx--;
				if (wx == 0)
					znak = true;
			}
			tab[wx][wy] = '*';
		}

//		for (int i = 0; i < tab.length; i++) {
//			for (int j = 0; j < tab[i].length; j++)
//				System.out.print(tab[i][j]);// podglad kodowania
//			System.out.println();
//		}
		int c = 0;
		

		for (int i = 0; i < tab.length; i++) {
			for (int j = 0; j < tab[i].length; j++) {
				if (tab[i][j] == '*') { // zapis do tablicy jednowymiarowej
					tab[i][j]=x[c];
					c++;
				}

			}

		}
		c=0;
		wx=-1;
		znak=true;
		for (int wy = 0; wy < x.length; wy++) {
			if ((wx < k - 1) && znak == true) {
				wx++;
				if (wx == k - 1)
					znak = false;
			} else if ((wx > 0) && (znak == false)) {
				wx--;
				if (wx == 0)
					znak = true;
			}
			x[c]=tab[wx][wy];
			c++;
			
		}
		 
//		for(int i=0;i<tab.length;i++) {
//	           for(int j=0;j<tab[i].length;j++) {
//	         	  if((int)tab[i][j]!=0) { //zapis do tablicy jednowymiarowej
//	         		  x[c]=tab[i][j];
//	         		  c++;
//	         	  }
//	         	  
//	         } 

		// for(int i=0; i<x.length;i++)
		// System.out.print(x[i]);
		//
		// System.out.println(); //podglad tablicy jednowymiarowej
		//

		return new String(x);

	}
}
